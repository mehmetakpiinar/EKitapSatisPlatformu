<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org" th:replace="~{base :: layout(~{::title}, ~{::#content})}">
<head>
    <title>Yeni Kitap Ekle</title>
</head>
<body>
    <div th:fragment="content" id="content">

        <div class="row justify-content-center mt-4">
            <div class="col-md-8 col-lg-6">
                
                <a href="/ana-sayfa" class="btn btn-outline-secondary btn-sm mb-3">
                    <i class="fas fa-arrow-left"></i> Ana Sayfaya Dön
                </a>

                <div class="card shadow-lg border-0 rounded-lg">
                    
                    <div class="card-header bg-warning text-dark text-center">
                        <h3 class="fw-light my-3"><i class="fas fa-book-medical me-2"></i> Yeni Kitap Kaydı</h3>
                    </div>
                    
                    <div class="card-body p-4">
                        
                        <div th:if="${success}" class="alert alert-success" role="alert">
                            <i class="fas fa-check-circle"></i> Kitap başarıyla kataloğa eklendi!
                        </div>
                        <div th:if="${error}" class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle"></i> Kayıt sırasında bir hata oluştu.
                        </div>

                        <form action="/kitap-ekle" method="post" th:object="${kitapDto}">
                            
                            <div class="form-floating mb-3">
                                <input class="form-control" id="ad" name="ad" type="text" placeholder="Kitap Adı" required>
                                <label for="ad">Kitap Adı</label>
                            </div>
                            
                            <div class="form-floating mb-3">
                                <input class="form-control" id="yazar" name="yazar" type="text" placeholder="Yazar Adı" required>
                                <label for="yazar">Yazar</label>
                            </div>

                            <div class="form-floating mb-3">
                                <input class="form-control" id="fiyat" name="fiyat" type="number" step="0.01" min="0" placeholder="Fiyat (TL)" required>
                                <label for="fiyat">Fiyat (TL)</label>
                            </div>

							<div class="form-floating mb-3">
							    <select class="form-select" th:field="*{kategoriId}" required>
							        <option value="" selected disabled>Bir kategori seçin...</option>
							        <option th:each="kat : ${kategoriler}" 
							                th:value="${kat.id}" 
							                th:text="${kat.ad}">
							        </option>
							    </select>
							    <label for="kategori">Kitap Kategorisi</label>
							</div>

                            <div class="form-floating mb-3">
   								 <input class="form-control" id="resimUrl" name="resimUrl" type="text" placeholder="Resim Yolu">
   								 <label for="resimUrl">Resim Yolu (Örn: /images/kitap1.jpg)</label>
							</div>


					<div class="row">
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <input class="form-control" id="isbn" name="isbn" type="text" placeholder="ISBN">
					            <label for="isbn">ISBN Numarası</label>
					        </div>
					    </div>
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <input class="form-control" id="yayinevi" name="yayinevi" type="text" placeholder="Yayınevi">
					            <label for="yayinevi">Yayınevi</label>
					        </div>
					    </div>
					</div>
					
					<div class="row">
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <input class="form-control" id="sayfaSayisi" name="sayfaSayisi" type="number" placeholder="Sayfa Sayısı">
					            <label for="sayfaSayisi">Sayfa Sayısı</label>
					        </div>
					    </div>
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <input class="form-control" id="basimYili" name="basimYili" type="number" placeholder="Basım Yılı">
					            <label for="basimYili">Basım Yılı</label>
					        </div>
					    </div>
					</div>
					
					<div class="row">
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <select class="form-select" id="dil" name="dil">
					                <option value="Türkçe" selected>Türkçe</option>
					                <option value="İngilizce">İngilizce</option>
					                <option value="Almanca">Almanca</option>
					                <option value="Diğer">Diğer</option>
					            </select>
					            <label for="dil">Kitap Dili</label>
					        </div>
					    </div>
					    <div class="col-md-6">
					        <div class="form-floating mb-3">
					            <select class="form-select" id="kapaksTuru" name="kapakTuru">
					                <option value="Karton Kapak" selected>Karton Kapak</option>
					                <option value="Ciltli">Ciltli</option>
					                <option value="Cep Boy">Cep Boy</option>
					            </select>
					            <label for="kapakTuru">Kapak Türü</label>
					        </div>
					    </div>
					</div>


                            <div class="form-floating mb-4">
                                <textarea class="form-control" id="aciklama" name="aciklama" placeholder="Kısa Açıklama" style="height: 100px" required></textarea>
                                <label for="aciklama">Kitap Açıklaması</label>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-warning btn-lg text-dark">
                                    <i class="fas fa-save"></i> Kitabı Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                    
                </div>
            </div>
        </div>
        
    </div>
</body>
</html>